{% extends 'base.html' %}
{% load static %}
{% block style %}
{% load tz %}
{% load humanize %}
{% load custom_filters%}

<link rel="stylesheet" href="{% static 'css/boots_info.css' %}" />
{% endblock style %}

{% block content %}
<div>
  <div class="d-flex justify-content-between">
    <!--ì‚¬ì´ë“œë°”-->
    <div style="width: 15rem;">
      <div class="boots-info-side" style="width: 11rem;">
        <input type="text" class="form-control" placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
      </div>
      <div class="commu-side">
        <div style="width: 11rem;">
          <div class="best_post mb-4 p-2 ps-3">
            ê³¼ì •
          </div>
          <div class="best_post p-3">
            <div class="pe-3 mb-3">
              <a href="{%url 'posts:boots_filter' 'í’€ìŠ¤íƒ'%}" class="category-1">í’€ìŠ¤íƒ(ì›¹)</a>
            </div>
            <div class="mb-3">
              <a href="{%url 'posts:boots_filter' 'ë°±ì—”ë“œ'%}" class="category-2">ë°±ì—”ë“œ</a>
            </div>
            <div class="pe-3 mb-3">
              <a href="{%url 'posts:boots_filter' 'í”„ë¡ íŠ¸ì—”ë“œ'%}" class="category-3">í”„ë¡ íŠ¸ì—”ë“œ</a>
            </div>
            <div class="mb-3">
              <a href="{%url 'posts:boots_filter' 'í¼í”Œë¦¬ì‹±'%}" class="category-4">í¼ë¸”ë¦¬ì‹±</a>
            </div>
            <div class="pe-3 mb-3">
              <a href="{%url 'posts:boots_filter' 'ì•ˆë“œë¡œì´ë“œ'%}" class="category-5">ì•ˆë“œë¡œì´ë“œ</a>
            </div>
            <div class="mb-3">
              <a href="{%url 'posts:boots_filter' 'iOS'%}" class="category-6">iOS</a>
            </div>
            <div class="pe-3 mb-3">
              <a href="{%url 'posts:boots_filter' 'ë°ë¸Œì˜µìŠ¤'%}" class="category-7">ë°ë¸Œì˜µìŠ¤</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--ë©”ì¸-->
    <div style="width:100%;">
    <div class="commu-main">
      <div class="new_post">
        <div class="new_post_all">
          <div>
            ğŸ•ï¸ ë¶€íŠ¸ìº í”„ 
            <span class="ps-2"style="color: lightgray; font-size:12px;">ë¶€íŠ¸ìº í”„ ì „ì²´ê²Œì‹œê¸€ì„ ì¡°íšŒí•©ë‹ˆë‹¤.</span>
          </div>
        </div>
      </div>
      {%for post in page_obj%}
      <a href="{%url 'posts:boots_detail' post.pk %}" class="commu_post" data-pk="{{ post.pk }}">
        <div class="ì¹´í…Œê³ ë¦¬ d-flex" style="justify-content: space-between;">
          <div class="commuT">
            {{ post.title}}
          </div>
          <div class="boots-info-date">
            {% with remaining_days=post.start_data1|remaining_days %}
            {{ post.start_data1|date:'m/d' }}
                {% if remaining_days > 0 %}
                    <p>ëª¨ì§‘ ë§ˆê°ê¹Œì§€: {{ remaining_days }}ì¼ì „</p>
                {% else %}
                    <p>ë§ˆê°ë˜ì—ˆìŠµë‹ˆë‹¤.</p>
                {% endif %}
            {% endwith %}
          </div>
        </div>
        <div class="ì œëª©/ë‚´ìš©">
          <div class="flex-row-nowrap">
            <div style="height: 100%">
              <div class="flex-row boots-info-date">
                {{post.start_data2|date:"Y/m/d"}}
                ~
                {{post.end_data|date:"Y/m/d"}} | {{post.price}}ì› |  {{post.onoff}}
              </div>
            </div>
            <div style="text-align: left;">
            </div>
          </div>
          <div class="commuC">
            {{ post.content }}
          </div>
          <div class="mt-3">
            {% for tag in post.tags.all %}
              {% comment %} <span class="ant-tag prep-tag" style="margin-bottom:3px">
                {{ tag }}
              </span> {% endcomment %}
              <div class="commuCA 
              {% if tag in "ë°±ì—”ë“œ" %}category-1
              {% elif tag == 'Java' %}category-2
              {% elif tag == 'Spring' %}category-3
              {% elif tag == 'DB' %}category-4
              {% elif tag == 'JPA' %}category-5
              {% elif tag == 'ë°±ì—”ë“œ' %}category-6
              {% elif tag == 'í”„ë¡ íŠ¸ì—”ë“œ' %}category-7 
              {% else %} ant-tag
              {% endif %}">
              {{ tag }}
              </div>
            {% endfor %}
          </div>
        </div>

      </a>
      {% endfor %}
      
      {% if page_obj.has_previous or page_obj.has_next %}
      <div class="pagination justify-content-center">
          {% if page_obj.has_previous %}
              <a class="page-link" href="?page=1">&laquo;</a>
          {% endif %}
  
          {% for num in page_obj.paginator.page_range %}
              {% if page_obj.number == num %}
                  <span class="current-page page-link">{{ num }}</span>
              {% else %}
                  <a class="page-link" href="?page={{ num }}">{{ num }}</a>
              {% endif %}
          {% endfor %}
  
          {% if page_obj.has_next %}
              <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">&raquo;</a>
          {% endif %}
      </div>
      {% endif %}
       
  </div>
</div>
{% endblock content %}